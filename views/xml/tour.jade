!!! xml
krpano(version='1.16' onstart='startup();')
  style(distorted='true', edge='top', name='hotspotstyle_01', oy='0', scale='0.5', url='/images/hotspot_01.png', onclick='if (to, js(hotspot_sync(get(name)))); if(linkedscene, tween(scale,0.25,0.5); tween(oy,-20,0.5); tween(alpha,0,0.5); looktohotspot(); loadscene(get(linkedscene),null,MERGE,BLEND(1)); );')
  display(movequality10='BEST' stillquality10='BEST')
  action(name='startup')
    - if (tours.has_entry)
      | loadscene('#{tours.entry}', null, MERGE);
    - else
      | loadscene(get(scene[0].name), null, MERGE);
  - for pano in panos
    scene(heading='', lat='', lng='', pano-id='#{pano.id}', name='panos:#{pano.id}', onstart='', thumburl='', title='')
      view(fov=100, fovmax=120, fovmin=30, fovtype='MFOV', hlookat=0, limitview='auto', maxpixelzoom='2.0', vlookat=0)
      image
        sphere(url=pano.image)
      - index = 0
      - for conn in pano.connections
        - conn = JSON.parse(conn)
        - index += 1
        hotspot(ath=conn.ath, atv=conn.atv, to=conn.to, name='hotspot#{index}' style='hotspotstyle_01')
